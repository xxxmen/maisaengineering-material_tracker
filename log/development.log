# Logfile created on Wed Jan 16 14:14:16 +0530 2013  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.4ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.4ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.3ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.3ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.3ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.3ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.4ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.4ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.3ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mSCHEMA (0.7ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 14:59:46) [GET]
  [4;36;1mAdmin::Message Load (0.8ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (uninitialized constant ActionView::Base::CompiledTemplates::DEPLOY_SITE_NAME) on line #144 of app/views/home/index.rhtml:
141: </style>
142: 
143: 
144: <% if DEPLOY_SITE_NAME =~ /Carson/ -%>
145: <div id="login-area">
146: 
147:   <!-- <img src="/graphics/bp.gif" id="login-bp-logo" /> -->

    app/views/home/index.rhtml:144:in `_run_rhtml_app47views47home47index46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (38.2ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:03:37) [GET]
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (uninitialized constant ActionView::Base::CompiledTemplates::DEPLOY_SITE_NAME) on line #144 of app/views/home/index.rhtml:
141: </style>
142: 
143: 
144: <% if DEPLOY_SITE_NAME == "DEPLOY_SITE_NAME" -%>
145: <div id="login-area">
146: 
147:   <!-- <img src="/graphics/bp.gif" id="login-bp-logo" /> -->

    app/views/home/index.rhtml:144:in `_run_rhtml_app47views47home47index46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (37.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:04:15) [GET]
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (undefined local variable or method `a' for #<ActionView::Base:0xb5ad2e50>) on line #144 of app/views/home/index.rhtml:
141: </style>
142: 
143: 
144: <% if a != b -%>
145: <div id="login-area">
146: 
147:   <!-- <img src="/graphics/bp.gif" id="login-bp-logo" /> -->

    app/views/home/index.rhtml:144:in `_run_rhtml_app47views47home47index46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (38.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:05:23) [GET]
  [4;35;1mAdmin::Message Load (0.3ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		Version: <%= ENV['MATERIAL_TRACKER_VERSION'] %> | <%= render :partial => "shared/version" %>
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (100.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSCHEMA (0.7ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:18:00) [GET]
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		Version: <%= ENV['MATERIAL_TRACKER_VERSION'] %> | <%= render :partial => "shared/version" %>
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.1ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:19:36) [GET]
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (undefined local variable or method `a' for #<ActionView::Base:0xb5f60328>) on line #144 of app/views/home/index.rhtml:
141: </style>
142: 
143: 
144: <% if a != 0 -%>
145: <div id="login-area">
146: 
147:   <!-- <img src="/graphics/bp.gif" id="login-bp-logo" /> -->

    app/views/home/index.rhtml:144:in `_run_rhtml_app47views47home47index46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (35.6ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:19:58) [GET]
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		Version: <%= ENV['MATERIAL_TRACKER_VERSION'] %> | <%= render :partial => "shared/version" %>
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.6ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:26:02) [GET]
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		 <%= render :partial => "shared/version" %>
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:26:50) [GET]
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		<!--Version: <%= ENV['MATERIAL_TRACKER_VERSION'] %> | <%= render :partial => "shared/version" %> -->
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (99.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:26:54) [GET]
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		<!--Version: <%= ENV['MATERIAL_TRACKER_VERSION'] %> | <%= render :partial => "shared/version" %> -->
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (38.6ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:26:54) [GET]
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		<!--Version: <%= ENV['MATERIAL_TRACKER_VERSION'] %> | <%= render :partial => "shared/version" %> -->
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (38.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:26:55) [GET]
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		<!--Version: <%= ENV['MATERIAL_TRACKER_VERSION'] %> | <%= render :partial => "shared/version" %> -->
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (42.0ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:26:55) [GET]
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		<!--Version: <%= ENV['MATERIAL_TRACKER_VERSION'] %> | <%= render :partial => "shared/version" %> -->
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (100.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:26:56) [GET]
  [4;35;1mAdmin::Message Load (0.3ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		<!--Version: <%= ENV['MATERIAL_TRACKER_VERSION'] %> | <%= render :partial => "shared/version" %> -->
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (37.9ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSCHEMA (1.5ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.3ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.0ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.0ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.3ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.0ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.0ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.0ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.0ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.0ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` [0m


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:30:06) [GET]
  [4;36;1mAdmin::Message Load (0.3ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		<!--Version: <%= ENV['MATERIAL_TRACKER_VERSION'] %> | <%= render :partial => "shared/version" %> -->
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (40.8ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:30:07) [GET]
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (Missing template shared/_version.erb in view path app/views) on line #105 of app/views/layouts/application.rhtml:
102: 				<% end %>
103: 
104: 	      		<div id="version">
105: 	      	 		<!--Version: <%= ENV['MATERIAL_TRACKER_VERSION'] %> | <%= render :partial => "shared/version" %> -->
106: 	      		</div>
107: 
108: 	      		<% unless params[:controller] == 'home' && ['index', 'superuser'].include?(params[:action]) %>

    app/views/layouts/application.rhtml:105:in `_run_rhtml_app47views47layouts47application46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (39.4ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 15:30:29) [GET]
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/index
Completed in 22ms (View: 15, DB: 0) | 200 OK [http://localhost/]


Processing SessionsController#create (for 127.0.0.1 at 2013-01-16 15:31:47) [POST]
  Parameters: {"password"=>"admin", "login"=>"admin", "commit"=>"Log In"}
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.2ms)[0m   [0;1mSHOW TABLES [0m

NoMethodError (undefined method `define_index' for #<Class:0xb5a83aa8>):
  app/models/employee.rb:135
  app/controllers/sessions_controller.rb:10:in `create'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
Rendered rescues/_trace (41.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#index (for 127.0.0.1 at 2013-01-16 16:02:13) [GET]
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m

ActionController::UnknownAction (No action responded to index. Actions: create, destroy, error_class_status_codes, error_class_status_codes=, error_layout, error_layout=, exception_notifiable_noisy_environments, exception_notifiable_noisy_environments=, exception_notifiable_notification_level, exception_notifiable_notification_level=, exception_notifiable_pass_through, exception_notifiable_pass_through=, exception_notifiable_silent_exceptions, exception_notifiable_silent_exceptions=, exception_notifiable_verbose, exception_notifiable_verbose=, http_status_codes, http_status_codes=, login_as_popv_viewer, and options_for_mopd):
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSCHEMA (1.5ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m


Processing SessionsController#create (for 127.0.0.1 at 2013-01-16 16:04:32) [POST]
  Parameters: {"login"=>"admin", "commit"=>"Log In", "password"=>"admin"}
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.2ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.2ms)[0m   [0mSHOW TABLES [0m

NoMethodError (undefined method `define_index' for #<Class:0xb5ca915c>):
  app/models/employee.rb:135
  app/controllers/sessions_controller.rb:10:in `create'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
Rendered rescues/_trace (35.9ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing SessionsController#create (for 127.0.0.1 at 2013-01-16 16:05:09) [POST]
  Parameters: {"login"=>"admin", "commit"=>"Log In", "password"=>"admin"}
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mEmployee Load (0.6ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`login` = 'admin') LIMIT 1[0m
Redirected to http://localhost:3000/
Completed in 29ms (DB: 1) | 302 Found [http://localhost/sessions]


Processing HomeController#index (for 127.0.0.1 at 2013-01-16 16:05:10) [GET]
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Redirected to http://localhost:3000/material_requests
Completed in 27ms (DB: 1) | 302 Found [http://localhost/]


Processing MaterialRequestsController#index (for 127.0.0.1 at 2013-01-16 16:05:10) [GET]
  [4;35;1mEmployee Load (0.3ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.2ms)[0m   [0;1mSHOW TABLES [0m

NoMethodError (undefined method `define_index' for #<Class:0xb5c39a78>):
  app/models/material_request.rb:75
  app/controllers/material_requests_controller.rb:23:in `index'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
Rendered rescues/_trace (40.7ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing MaterialRequestsController#index (for 127.0.0.1 at 2013-01-16 16:05:48) [GET]
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSCHEMA (1.5ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.2ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.2ms)[0m   [0mSHOW TABLES [0m

NoMethodError (undefined method `define_index' for #<Class:0xb5b90dec>):
  app/models/unit.rb:35
  lib/listable.rb:102:in `list'
  app/models/material_request.rb:407:in `for_employee'
  app/models/material_request.rb:406:in `for_employee'
  app/models/material_request.rb:405:in `for_employee'
  app/models/material_request.rb:499:in `filter'
  app/models/material_request.rb:498:in `filter'
  app/models/material_request.rb:404:in `for_employee'
  app/controllers/material_requests_controller.rb:23:in `index'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
Rendered rescues/_trace (111.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing MaterialRequestsController#index (for 127.0.0.1 at 2013-01-16 16:08:59) [GET]
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(DISTINCT material_requests.id) AS count_material_requests_id FROM `material_requests` LEFT OUTER JOIN `employees` ON `employees`.id = `material_requests`.requested_by_id LEFT OUTER JOIN `units` ON `units`.id = `material_requests`.unit_id LEFT OUTER JOIN `requested_line_items` ON requested_line_items.material_request_id = material_requests.id WHERE (((1 = 1) AND (material_requests.deleted = 0)) AND (1 = 1)) [0m
Rendering template within layouts/application
Rendering material_requests/index
  [4;35;1mMaterialRequest Load (0.3ms)[0m   [0mSELECT distinct(unit_id) FROM `material_requests` [0m
  [4;36;1mUnit Load (0.3ms)[0m   [0;1mSELECT * FROM `units` WHERE (`units`.`id` IN (3,2,5,4,1)) ORDER BY description[0m
  [4;35;1mMaterialRequest Load (0.3ms)[0m   [0mSELECT distinct(requested_by_id) FROM `material_requests` [0m
  [4;36;1mEmployee Load (0.3ms)[0m   [0;1mSELECT id, first_name, last_name, mi FROM `employees` WHERE (`employees`.`id` IN (1,2,7,8,11,15,10,17,13)) ORDER BY last_name[0m
  [4;35;1mMaterialRequest Load (0.7ms)[0m   [0mSELECT * FROM `material_requests` WHERE (((1 = 1) AND (material_requests.deleted = 0)) AND (1 = 1)) ORDER BY material_requests.id DESC LIMIT 0, 41[0m
  [4;36;1mEmployee Load (0.3ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` IN (8,7,2,1,10,15,11,17,13)) [0m
  [4;35;1mUnit Load (0.3ms)[0m   [0mSELECT * FROM `units` WHERE (`units`.`id` IN (3,2,4,1,5)) [0m
  [4;36;1mRequestedLineItem Load (0.9ms)[0m   [0;1mSELECT `requested_line_items`.* FROM `requested_line_items` WHERE (`requested_line_items`.material_request_id IN (42,41,40,39,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1)) ORDER BY requested_line_items.item_no[0m
Rendered shared/_paginate (1.7ms)
Rendered shared/_roles (5.1ms)
Rendered shared/_navigation (4.9ms)
  [4;35;1mGroup Load (0.6ms)[0m   [0mSELECT * FROM `groups` ORDER BY name ASC[0m
Rendered material_requests/_actions (12.5ms)
Rendered material_requests/_search (1.3ms)
Completed in 231ms (View: 170, DB: 8) | 200 OK [http://localhost/material_requests]


Processing MaterialRequestsController#edit (for 127.0.0.1 at 2013-01-16 16:14:27) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mMaterialRequest Load (0.6ms)[0m   [0mSELECT * FROM `material_requests` WHERE (`material_requests`.`id` = '40') LIMIT 1[0m
  [4;36;1mReferenceNumberType Load (0.4ms)[0m   [0;1mSELECT * FROM `reference_number_types` ORDER BY order_number ASC[0m
Rendering template within layouts/application
Rendering material_requests/edit
  [4;35;1mBill Load (0.6ms)[0m   [0mSELECT * FROM `bills` WHERE (`bills`.material_request_id = 40) LIMIT 1[0m
  [4;36;1mUnit Load (0.5ms)[0m   [0;1mSELECT * FROM `units` ORDER BY description ASC[0m
  [4;35;1mUnit Load (0.5ms)[0m   [0mSELECT * FROM `units` WHERE (`units`.`id` = 1) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `material_request_attachments` WHERE (`material_request_attachments`.material_request_id = 40) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mEmployee Load (1.0ms)[0m   [0;1mSELECT * FROM `employees` ORDER BY last_name[0m
  [4;35;1mEmployee Load (0.5ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;36;1mEmployee Load (0.8ms)[0m   [0;1mSELECT * FROM `employees` WHERE (role = 12 OR role = 0 OR role = 2) ORDER BY last_name[0m
  [4;35;1mEmployee Load (0.6ms)[0m   [0mSELECT * FROM `employees` WHERE (role = 3) ORDER BY last_name[0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM `groups` ORDER BY name ASC[0m
  [4;35;1mGroup Load (0.4ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.2ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.2ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m

ActionView::TemplateError (undefined method `define_index' for #<Class:0xb5a9cc9c>) on line #264 of app/views/material_requests/edit.rhtml:
261: 		</div>
262: 
263: 	-->
264: 		<% if @material_request.quotes.size > 0 && current_employee.need_details? %>
265: 		    <p>
266: 				<strong style="font-weight: bold; font-size: 95%;">Quotes (<%= @material_request.quotes.size %>) : </strong>
267: 				<%= link_to_quotes @material_request %>

    app/models/quote.rb:40
    app/views/material_requests/edit.rhtml:264:in `_run_rhtml_app47views47material_requests47edit46rhtml'
    app/views/material_requests/edit.rhtml:4:in `_run_rhtml_app47views47material_requests47edit46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
Rendered rescues/_trace (107.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaterialRequestsController#edit (for 127.0.0.1 at 2013-01-16 16:16:44) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (0.6ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mMaterialRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `material_requests` WHERE (`material_requests`.`id` = '40') LIMIT 1[0m
  [4;35;1mReferenceNumberType Load (0.1ms)[0m   [0mSELECT * FROM `reference_number_types` ORDER BY order_number ASC[0m
Rendering template within layouts/application
Rendering material_requests/edit
  [4;36;1mBill Load (0.2ms)[0m   [0;1mSELECT * FROM `bills` WHERE (`bills`.material_request_id = 40) LIMIT 1[0m
  [4;35;1mUnit Load (3.7ms)[0m   [0mSELECT * FROM `units` ORDER BY description ASC[0m
  [4;36;1mUnit Load (0.1ms)[0m   [0;1mSELECT * FROM `units` WHERE (`units`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `material_request_attachments` WHERE (`material_request_attachments`.material_request_id = 40) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` ORDER BY last_name[0m
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` WHERE (role = 12 OR role = 0 OR role = 2) ORDER BY last_name[0m
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (role = 3) ORDER BY last_name[0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM `groups` ORDER BY name ASC[0m
  [4;36;1mGroup Load (0.1ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;35;1mQuote Load (0.4ms)[0m   [0mSELECT * FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (0.7ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m

ActionView::TemplateError (undefined method `define_index' for #<Class:0xb5a81de8>) on line #267 of app/views/material_requests/edit.rhtml:
264: 		<% if @material_request.quotes.size > 0 && current_employee.need_details? %>
265: 		    <p>
266: 				<strong style="font-weight: bold; font-size: 95%;">Quotes (<%= @material_request.quotes.size %>) : </strong>
267: 				<%= link_to_quotes @material_request %>
268:         <% if @material_request.quotes.size > 1 %>
269: 				  <%= link_to_quotes_comparison @material_request %>
270:         <% end %>

    app/models/vendor.rb:54
    app/helpers/material_requests_helper.rb:55:in `link_to_quotes'
    app/helpers/material_requests_helper.rb:54:in `link_to_quotes'
    app/views/material_requests/edit.rhtml:267:in `_run_rhtml_app47views47material_requests47edit46rhtml'
    app/views/material_requests/edit.rhtml:4:in `_run_rhtml_app47views47material_requests47edit46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m
Rendered rescues/_trace (113.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.2ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (0.5ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSCHEMA (1.5ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m


Processing MaterialRequestsController#edit (for 127.0.0.1 at 2013-01-16 17:04:22) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mMaterialRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `material_requests` WHERE (`material_requests`.`id` = '40') LIMIT 1[0m
  [4;35;1mReferenceNumberType Load (0.1ms)[0m   [0mSELECT * FROM `reference_number_types` ORDER BY order_number ASC[0m
Rendering template within layouts/application
Rendering material_requests/edit
  [4;36;1mBill Load (0.2ms)[0m   [0;1mSELECT * FROM `bills` WHERE (`bills`.material_request_id = 40) LIMIT 1[0m
  [4;35;1mUnit Load (0.2ms)[0m   [0mSELECT * FROM `units` ORDER BY description ASC[0m
  [4;36;1mUnit Load (0.1ms)[0m   [0;1mSELECT * FROM `units` WHERE (`units`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `material_request_attachments` WHERE (`material_request_attachments`.material_request_id = 40) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` ORDER BY last_name[0m
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (role = 12 OR role = 0 OR role = 2) ORDER BY last_name[0m
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` WHERE (role = 3) ORDER BY last_name[0m
  [4;35;1mGroup Load (0.2ms)[0m   [0mSELECT * FROM `groups` ORDER BY name ASC[0m
  [4;36;1mGroup Load (0.1ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;35;1mQuote Load (0.2ms)[0m   [0mSELECT * FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;36;1mSCHEMA (0.6ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.2ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.2ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m

ActionView::TemplateError (undefined method `define_index' for #<Class:0xb5aecd3c>) on line #267 of app/views/material_requests/edit.rhtml:
264: 		<% if @material_request.quotes.size > 0 && current_employee.need_details? %>
265: 		    <p>
266: 				<strong style="font-weight: bold; font-size: 95%;">Quotes (<%= @material_request.quotes.size %>) : </strong>
267: 				<%= link_to_quotes @material_request %>
268:         <% if @material_request.quotes.size > 1 %>
269: 				  <%= link_to_quotes_comparison @material_request %>
270:         <% end %>

    app/models/vendor.rb:54
    app/helpers/material_requests_helper.rb:55:in `link_to_quotes'
    app/helpers/material_requests_helper.rb:54:in `link_to_quotes'
    app/views/material_requests/edit.rhtml:267:in `_run_rhtml_app47views47material_requests47edit46rhtml'
    app/views/material_requests/edit.rhtml:4:in `_run_rhtml_app47views47material_requests47edit46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
Rendered rescues/_trace (112.8ms)
Rendered rescues/_request_and_response (1.1ms)
Rendering rescues/layout (internal_server_error)


Processing MaterialRequestsController#edit (for 127.0.0.1 at 2013-01-16 17:05:13) [GET]
  Parameters: {"id"=>"40"}
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mMaterialRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `material_requests` WHERE (`material_requests`.`id` = '40') LIMIT 1[0m
  [4;35;1mReferenceNumberType Load (0.1ms)[0m   [0mSELECT * FROM `reference_number_types` ORDER BY order_number ASC[0m
Rendering template within layouts/application
Rendering material_requests/edit
  [4;36;1mBill Load (0.2ms)[0m   [0;1mSELECT * FROM `bills` WHERE (`bills`.material_request_id = 40) LIMIT 1[0m
  [4;35;1mUnit Load (0.2ms)[0m   [0mSELECT * FROM `units` ORDER BY description ASC[0m
  [4;36;1mUnit Load (0.2ms)[0m   [0;1mSELECT * FROM `units` WHERE (`units`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `material_request_attachments` WHERE (`material_request_attachments`.material_request_id = 40) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` ORDER BY last_name[0m
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` WHERE (role = 12 OR role = 0 OR role = 2) ORDER BY last_name[0m
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (role = 3) ORDER BY last_name[0m
  [4;35;1mGroup Load (0.1ms)[0m   [0mSELECT * FROM `groups` ORDER BY name ASC[0m
  [4;36;1mGroup Load (0.1ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;35;1mQuote Load (0.1ms)[0m   [0mSELECT * FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;36;1mVendor Load (0.3ms)[0m   [0;1mSELECT * FROM `vendors` WHERE (`vendors`.`id` = 9) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `quote_items` WHERE (`quote_items`.quote_id = 49) [0m
  [4;36;1mQuoteItem Load (0.2ms)[0m   [0;1mSELECT * FROM `quote_items` WHERE (`quote_items`.quote_id = 49) [0m
  [4;35;1mSCHEMA (0.6ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (0.6ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.2ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m

ActionView::TemplateError (undefined method `define_index' for #<Class:0xb59c5be8>) on line #1 of app/views/material_requests/_links_to_orders.rhtml:
1: <% if material_request.orders.size > 0 %>
2: <p class="clear">
3: 	<strong style="font-weight: bold; font-size: 95%;">POs</strong>
4: <span id="links_to_orders"><%= link_to_orders material_request %></span>

    app/models/order.rb:77
    app/views/material_requests/_links_to_orders.rhtml:1:in `_run_rhtml_app47views47material_requests47_links_to_orders46rhtml_locals_links_to_orders_material_request_object'
    app/views/material_requests/edit.rhtml:274:in `_run_rhtml_app47views47material_requests47edit46rhtml'
    app/views/material_requests/edit.rhtml:4:in `_run_rhtml_app47views47material_requests47edit46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;35;1mSCHEMA (1.5ms)[0m   [0mSHOW TABLES [0m
Rendered rescues/_trace (57.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing MaterialRequestsController#edit (for 127.0.0.1 at 2013-01-16 17:05:59) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mEmployee Load (0.4ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mSCHEMA (2.0ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mMaterialRequest Load (0.4ms)[0m   [0mSELECT * FROM `material_requests` WHERE (`material_requests`.`id` = '40') LIMIT 1[0m
  [4;36;1mReferenceNumberType Load (0.3ms)[0m   [0;1mSELECT * FROM `reference_number_types` ORDER BY order_number ASC[0m
Rendering template within layouts/application
Rendering material_requests/edit
  [4;35;1mBill Load (0.1ms)[0m   [0mSELECT * FROM `bills` WHERE (`bills`.material_request_id = 40) LIMIT 1[0m
  [4;36;1mUnit Load (0.1ms)[0m   [0;1mSELECT * FROM `units` ORDER BY description ASC[0m
  [4;35;1mUnit Load (0.1ms)[0m   [0mSELECT * FROM `units` WHERE (`units`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `material_request_attachments` WHERE (`material_request_attachments`.material_request_id = 40) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` ORDER BY last_name[0m
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` WHERE (role = 12 OR role = 0 OR role = 2) ORDER BY last_name[0m
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` WHERE (role = 3) ORDER BY last_name[0m
  [4;36;1mGroup Load (0.1ms)[0m   [0;1mSELECT * FROM `groups` ORDER BY name ASC[0m
  [4;35;1mGroup Load (0.1ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;36;1mQuote Load (0.1ms)[0m   [0;1mSELECT * FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;35;1mVendor Load (0.1ms)[0m   [0mSELECT * FROM `vendors` WHERE (`vendors`.`id` = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `quote_items` WHERE (`quote_items`.quote_id = 49) [0m
  [4;35;1mQuoteItem Load (0.1ms)[0m   [0mSELECT * FROM `quote_items` WHERE (`quote_items`.quote_id = 49) [0m
  [4;36;1mOrder Load (0.6ms)[0m   [0;1mSELECT * FROM `purchase_orders` INNER JOIN `material_requests_orders` ON `purchase_orders`.id = `material_requests_orders`.order_id WHERE (`material_requests_orders`.material_request_id = 40 ) [0m
Rendered material_requests/_links_to_orders (12.1ms)
  [4;35;1mRequestedLineItem Load (0.7ms)[0m   [0mSELECT * FROM `requested_line_items` WHERE (`requested_line_items`.material_request_id = 40) ORDER BY requested_line_items.item_no[0m
  [4;36;1mUnitForMeasure Load (1.0ms)[0m   [0;1mSELECT * FROM `unit_for_measures` ORDER BY name[0m
  [4;35;1mSCHEMA (0.6ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (0.5ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (0.7ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (0.6ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (0.5ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.1ms)[0m   [0;1mSHOW TABLES [0m

ActionView::TemplateError (undefined method `define_index' for #<Class:0xb5a2af34>) on line #29 of app/views/material_requests/_line_item.rhtml:
26:   
27:   <td class="radio">
28:     
29:     <% unless item.ordered_line_items.size > 0 %>
30:     <input type="radio" name="pipe_builder" value="<%= item.id %>" />
31:     <% end %>    
32:   </td>

    app/models/ordered_line_item.rb:40
    app/views/material_requests/_line_item.rhtml:29:in `_run_rhtml_app47views47material_requests47_line_item46rhtml_locals_item_line_item_object'
    app/views/material_requests/edit.rhtml:313:in `_run_rhtml_app47views47material_requests47edit46rhtml'
    app/views/material_requests/edit.rhtml:312:in `each'
    app/views/material_requests/edit.rhtml:312:in `_run_rhtml_app47views47material_requests47edit46rhtml'
    app/views/material_requests/edit.rhtml:4:in `_run_rhtml_app47views47material_requests47edit46rhtml'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;35;1mSCHEMA (1.1ms)[0m   [0mSHOW TABLES [0m
Rendered rescues/_trace (114.3ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing MaterialRequestsController#edit (for 127.0.0.1 at 2013-01-16 17:06:34) [GET]
  Parameters: {"id"=>"40"}
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mSCHEMA (1.5ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mMaterialRequest Load (0.1ms)[0m   [0mSELECT * FROM `material_requests` WHERE (`material_requests`.`id` = '40') LIMIT 1[0m
  [4;36;1mReferenceNumberType Load (0.2ms)[0m   [0;1mSELECT * FROM `reference_number_types` ORDER BY order_number ASC[0m
Rendering template within layouts/application
Rendering material_requests/edit
  [4;35;1mBill Load (0.2ms)[0m   [0mSELECT * FROM `bills` WHERE (`bills`.material_request_id = 40) LIMIT 1[0m
  [4;36;1mUnit Load (0.2ms)[0m   [0;1mSELECT * FROM `units` ORDER BY description ASC[0m
  [4;35;1mUnit Load (0.1ms)[0m   [0mSELECT * FROM `units` WHERE (`units`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `material_request_attachments` WHERE (`material_request_attachments`.material_request_id = 40) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` ORDER BY last_name[0m
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (role = 12 OR role = 0 OR role = 2) ORDER BY last_name[0m
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` WHERE (role = 3) ORDER BY last_name[0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM `groups` ORDER BY name ASC[0m
  [4;35;1mGroup Load (0.1ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;36;1mQuote Load (0.1ms)[0m   [0;1mSELECT * FROM `quotes` WHERE (`quotes`.material_request_id = 40) [0m
  [4;35;1mVendor Load (0.1ms)[0m   [0mSELECT * FROM `vendors` WHERE (`vendors`.`id` = 9) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `quote_items` WHERE (`quote_items`.quote_id = 49) [0m
  [4;35;1mQuoteItem Load (0.1ms)[0m   [0mSELECT * FROM `quote_items` WHERE (`quote_items`.quote_id = 49) [0m
  [4;36;1mOrder Load (0.2ms)[0m   [0;1mSELECT * FROM `purchase_orders` INNER JOIN `material_requests_orders` ON `purchase_orders`.id = `material_requests_orders`.order_id WHERE (`material_requests_orders`.material_request_id = 40 ) [0m
Rendered material_requests/_links_to_orders (67.2ms)
  [4;35;1mRequestedLineItem Load (0.2ms)[0m   [0mSELECT * FROM `requested_line_items` WHERE (`requested_line_items`.material_request_id = 40) ORDER BY requested_line_items.item_no[0m
  [4;36;1mUnitForMeasure Load (0.2ms)[0m   [0;1mSELECT * FROM `unit_for_measures` ORDER BY name[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `ordered_line_items` WHERE (`ordered_line_items`.requested_line_item_id = 61) [0m
Rendered material_requests/_line_item (23.5ms)
  [4;36;1mPipingClass Load (0.5ms)[0m   [0;1mSELECT * FROM `piping_classes` ORDER BY class_code[0m
Rendered material_requests/_pipe_materials (16.0ms)
Rendered shared/_roles (4.8ms)
Rendered shared/_navigation (4.2ms)
Rendered material_requests/_actions (10.6ms)
Rendered material_requests/_search (1.2ms)
Completed in 383ms (View: 243, DB: 7) | 200 OK [http://localhost/material_requests/40/edit]


Processing CartsController#recent (for 127.0.0.1 at 2013-01-16 17:11:10) [GET]
  Parameters: {"status"=>"all"}
  [4;35;1mEmployee Load (0.3ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.4ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (4.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.3ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(DISTINCT carts.id) AS count_carts_id FROM `carts` LEFT OUTER JOIN `employees` ON `employees`.id = `carts`.requested_by_id LEFT OUTER JOIN `units` ON `units`.id = `carts`.unit_id WHERE ((1 = 1) AND (state != 0)) [0m
Rendering template within layouts/application
Rendering carts/recent
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `carts` [0m
  [4;36;1mCart Load (0.4ms)[0m   [0;1mSELECT distinct(unit_id) FROM `carts` [0m
  [4;35;1mCart Load (0.5ms)[0m   [0mSELECT distinct(requested_by_id) FROM `carts` [0m
  [4;36;1mEmployee Load (0.7ms)[0m   [0;1mSELECT id, first_name, last_name, mi FROM `employees` WHERE (`employees`.`id` IN (1,7,12,11,15)) ORDER BY last_name[0m
  [4;35;1mCart Load (0.4ms)[0m   [0mSELECT * FROM `carts` WHERE ((1 = 1) AND (state != 0)) ORDER BY carts.id DESC LIMIT 0, 0[0m
Rendered shared/_paginate (1.6ms)
Rendered shared/_roles (3.8ms)
Rendered shared/_navigation (1.4ms)
Rendered carts/_actions (4.9ms)
Rendered carts/_search (1.3ms)
Completed in 176ms (View: 42, DB: 13) | 200 OK [http://localhost/carts/recent?status=all]
  [4;36;1mSCHEMA (1.5ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (0.8ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m


Processing ApplicationController#index (for 127.0.0.1 at 2013-01-16 17:11:18) [GET]
  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m

NoMethodError (undefined method `define_index' for #<Class:0xb5d2d268>):
  app/models/company.rb:29
  app/controllers/reports_controller.rb:6
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;35;1mSCHEMA (1.7ms)[0m   [0mSHOW TABLES [0m
Rendered rescues/_trace (41.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#menu (for 127.0.0.1 at 2013-01-16 17:11:22) [GET]
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/menu
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
Rendered material_requests/_search (0.5ms)
Rendered carts/_search (0.4ms)
Rendered orders/_search (1.2ms)
Rendered inventory_items/_search (1.1ms)
Rendered general_references/_search (0.9ms)
Rendered units/_search (0.8ms)
Rendered vendors/_search (0.8ms)
Rendered vendor_groups/_search (0.9ms)
Rendered companies/_search (1.2ms)
Rendered employees/_search (1.1ms)
Rendered quotes/_search (1.0ms)
Rendered shared/_roles (3.7ms)
Rendered shared/_navigation (1.3ms)
Completed in 179ms (View: 88, DB: 3) | 200 OK [http://localhost/home/menu]


Processing MaterialRequestsController#index (for 127.0.0.1 at 2013-01-16 17:11:26) [GET]
  Parameters: {"status"=>"all"}
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(DISTINCT material_requests.id) AS count_material_requests_id FROM `material_requests` LEFT OUTER JOIN `employees` ON `employees`.id = `material_requests`.requested_by_id LEFT OUTER JOIN `units` ON `units`.id = `material_requests`.unit_id LEFT OUTER JOIN `requested_line_items` ON requested_line_items.material_request_id = material_requests.id WHERE (((1 = 1) AND (material_requests.deleted = 0)) AND (1 = 1)) [0m
Rendering template within layouts/application
Rendering material_requests/index
  [4;35;1mMaterialRequest Load (0.2ms)[0m   [0mSELECT distinct(unit_id) FROM `material_requests` [0m
  [4;36;1mUnit Load (0.1ms)[0m   [0;1mSELECT * FROM `units` WHERE (`units`.`id` IN (3,2,5,4,1)) ORDER BY description[0m
  [4;35;1mMaterialRequest Load (0.1ms)[0m   [0mSELECT distinct(requested_by_id) FROM `material_requests` [0m
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT id, first_name, last_name, mi FROM `employees` WHERE (`employees`.`id` IN (1,2,7,8,11,15,10,17,13)) ORDER BY last_name[0m
  [4;35;1mMaterialRequest Load (0.2ms)[0m   [0mSELECT * FROM `material_requests` WHERE (((1 = 1) AND (material_requests.deleted = 0)) AND (1 = 1)) ORDER BY material_requests.id DESC LIMIT 0, 41[0m
  [4;36;1mEmployee Load (0.7ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` IN (10,15,11,17,13,8,7,2,1)) [0m
  [4;35;1mUnit Load (0.1ms)[0m   [0mSELECT * FROM `units` WHERE (`units`.`id` IN (3,2,4,1,5)) [0m
  [4;36;1mRequestedLineItem Load (0.1ms)[0m   [0;1mSELECT `requested_line_items`.* FROM `requested_line_items` WHERE (`requested_line_items`.material_request_id IN (42,41,40,39,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1)) ORDER BY requested_line_items.item_no[0m
Rendered shared/_paginate (0.1ms)
Rendered shared/_roles (4.1ms)
Rendered shared/_navigation (1.5ms)
  [4;35;1mGroup Load (0.1ms)[0m   [0mSELECT * FROM `groups` ORDER BY name ASC[0m
Rendered material_requests/_actions (11.6ms)
Rendered material_requests/_search (1.4ms)
Completed in 191ms (View: 132, DB: 5) | 200 OK [http://localhost/material_requests?status=all]


Processing HomeController#menu (for 127.0.0.1 at 2013-01-16 17:11:29) [GET]
  [4;36;1mEmployee Load (0.3ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.3ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/menu
  [4;36;1mSCHEMA (1.6ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.3ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
Rendered material_requests/_search (0.6ms)
Rendered carts/_search (0.8ms)
Rendered orders/_search (0.4ms)
Rendered inventory_items/_search (0.4ms)
Rendered general_references/_search (0.5ms)
Rendered units/_search (0.3ms)
Rendered vendors/_search (0.3ms)
Rendered vendor_groups/_search (0.3ms)
Rendered companies/_search (0.3ms)
Rendered employees/_search (0.3ms)
Rendered quotes/_search (0.3ms)
Rendered shared/_roles (2.4ms)
Rendered shared/_navigation (1.4ms)
Completed in 124ms (View: 98, DB: 4) | 200 OK [http://localhost/home/menu]


Processing TicketsController#index (for 127.0.0.1 at 2013-01-16 17:11:37) [GET]
  [4;35;1mEmployee Load (0.4ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.3ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(tickets.id) AS count_tickets_id FROM `tickets` WHERE (1 = 1) [0m
Rendering template within layouts/tickets
Rendering tickets/index
  [4;36;1mTicket Load (1.1ms)[0m   [0;1mSELECT * FROM `tickets` WHERE (1 = 1) ORDER BY tickets.updated_at DESC LIMIT 0, 22[0m
Rendered shared/_paginate (0.1ms)
Rendered shared/_roles (7.3ms)
  [4;35;1mSCHEMA (1.5ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
Rendered shared/_navigation (18.6ms)
Rendered tickets/_actions (4.1ms)
Rendered tickets/_search (1.1ms)
Completed in 163ms (View: 130, DB: 6) | 200 OK [http://localhost/tickets]


Processing CartsController#recent (for 127.0.0.1 at 2013-01-16 17:11:53) [GET]
  Parameters: {"status"=>"all"}
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mSCHEMA (0.7ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(DISTINCT carts.id) AS count_carts_id FROM `carts` LEFT OUTER JOIN `employees` ON `employees`.id = `carts`.requested_by_id LEFT OUTER JOIN `units` ON `units`.id = `carts`.unit_id WHERE ((1 = 1) AND (state != 0)) [0m
Rendering template within layouts/application
Rendering carts/recent
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `carts` [0m
  [4;35;1mCart Load (0.1ms)[0m   [0mSELECT distinct(unit_id) FROM `carts` [0m
  [4;36;1mCart Load (0.1ms)[0m   [0;1mSELECT distinct(requested_by_id) FROM `carts` [0m
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT id, first_name, last_name, mi FROM `employees` WHERE (`employees`.`id` IN (1,7,12,11,15)) ORDER BY last_name[0m
  [4;36;1mCart Load (0.1ms)[0m   [0;1mSELECT * FROM `carts` WHERE ((1 = 1) AND (state != 0)) ORDER BY carts.id DESC LIMIT 0, 0[0m
Rendered shared/_paginate (0.1ms)
Rendered shared/_roles (2.2ms)
Rendered shared/_navigation (1.3ms)
Rendered carts/_actions (1.3ms)
Rendered carts/_search (0.3ms)
Completed in 82ms (View: 17, DB: 3) | 200 OK [http://localhost/carts/recent?status=all]
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m


Processing ApplicationController#index (for 127.0.0.1 at 2013-01-16 17:11:56) [GET]
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m

NoMethodError (undefined method `define_index' for #<Class:0xb5bd3b88>):
  app/models/company.rb:29
  app/controllers/reports_controller.rb:6
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;36;1mSCHEMA (1.5ms)[0m   [0;1mSHOW TABLES [0m
Rendered rescues/_trace (45.8ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing OrdersController#index (for 127.0.0.1 at 2013-01-16 17:12:02) [GET]
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.2ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m

NoMethodError (undefined method `define_index' for #<Class:0xb5abd9b0>):
  app/models/po_status.rb:33
  lib/listable.rb:102:in `list'
  app/controllers/orders_controller.rb:25:in `index'
  app/models/order.rb:324:in `filter'
  app/models/order.rb:323:in `filter'
  app/controllers/orders_controller.rb:20:in `index'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;35;1mSCHEMA (2.1ms)[0m   [0mSHOW TABLES [0m
Rendered rescues/_trace (104.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing OrdersController#index (for 127.0.0.1 at 2013-01-16 17:16:14) [GET]
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mSCHEMA (1.8ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(DISTINCT purchase_orders.id) AS count_purchase_orders_id FROM `purchase_orders` LEFT OUTER JOIN `vendors` ON `vendors`.id = `purchase_orders`.vendor_id LEFT OUTER JOIN `units` ON `units`.id = `purchase_orders`.unit_id LEFT OUTER JOIN `po_statuses` ON `po_statuses`.id = `purchase_orders`.status_id WHERE (1 = 1) [0m
Rendering template within layouts/application
Rendering orders/index
Rendered orders/_refine (0.6ms)
  [4;36;1mOrder Load (1.3ms)[0m   [0;1mSELECT distinct(turnaround_year) FROM purchase_orders ORDER BY turnaround_year;[0m
Rendered orders/_year_filter (6.6ms)
  [4;35;1mOrder Load (0.7ms)[0m   [0mSELECT vendor_id FROM `purchase_orders` WHERE (purchase_orders.vendor_id IS NOT NULL) GROUP BY vendor_id[0m
  [4;36;1mVendor Load (0.6ms)[0m   [0;1mSELECT * FROM `vendors` WHERE (`vendors`.`id` IN (3,8,9,10)) ORDER BY name[0m
Rendered orders/_supplier_filter (10.0ms)
  [4;35;1mOrder Load (0.7ms)[0m   [0mSELECT unit_id FROM `purchase_orders` WHERE (purchase_orders.unit_id IS NOT NULL) GROUP BY unit_id[0m
  [4;36;1mUnit Load (0.5ms)[0m   [0;1mSELECT * FROM `units` WHERE (`units`.`id` IN (1,2,3,5)) ORDER BY description[0m
  [4;35;1mPoStatus Load (0.5ms)[0m   [0mSELECT * FROM `po_statuses` ORDER BY po_statuses.order[0m
  [4;36;1mOrder Load (1.3ms)[0m   [0;1mSELECT distinct(location) FROM `purchase_orders` ORDER BY location[0m
  [4;35;1mOrder Load (1.1ms)[0m   [0mSELECT * FROM `purchase_orders` WHERE (1 = 1) ORDER BY purchase_orders.created DESC, purchase_orders.id desc LIMIT 0, 22[0m
  [4;36;1mVendor Load (0.6ms)[0m   [0;1mSELECT * FROM `vendors` WHERE (`vendors`.`id` IN (10,3,9,8)) [0m
  [4;35;1mUnit Load (0.5ms)[0m   [0mSELECT * FROM `units` WHERE (`units`.`id` IN (1,3,5,2)) [0m
  [4;36;1mPoStatus Load (0.6ms)[0m   [0;1mSELECT * FROM `po_statuses` WHERE (`po_statuses`.`id` IN (1,5,4)) [0m
Rendered orders/_supplier_data (0.8ms)
  [4;35;1mOrderedLineItem Load (0.8ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 22) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.9ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 21) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
Rendered orders/_supplier_data (0.2ms)
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.7ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 18) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.6ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 17) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.7ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 16) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.7ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 15) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.7ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 14) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.8ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 12) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.7ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 11) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.8ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 10) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.9ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 9) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.4ms)
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.7ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 7) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.6ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 6) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.6ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 5) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.6ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 4) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.6ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 3) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.6ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 2) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
Rendered orders/_purchasing (238.4ms)
Rendered shared/_paginate (0.1ms)
Rendered shared/_roles (3.8ms)
Rendered shared/_navigation (1.3ms)
  [4;36;1mGroup Load (0.4ms)[0m   [0;1mSELECT * FROM `groups` ORDER BY name ASC[0m
Rendered orders/_actions (15.7ms)
Rendered orders/_search (1.1ms)
Completed in 347ms (View: 260, DB: 25) | 200 OK [http://localhost/orders]


Processing OrdersController#edit (for 127.0.0.1 at 2013-01-16 17:16:19) [GET]
  Parameters: {"id"=>"22"}
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mOrder Load (0.6ms)[0m   [0;1mSELECT * FROM `purchase_orders` WHERE (`purchase_orders`.`id` = 22) [0m
  [4;35;1mOrderedLineItem Load (0.7ms)[0m   [0mSELECT `ordered_line_items`.* FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 22) ORDER BY line_item_no[0m
  [4;36;1mUnit Load (0.4ms)[0m   [0;1mSELECT * FROM `units` WHERE (`units`.`id` = 2) [0m
Rendering template within layouts/application
Rendering orders/edit
  [4;35;1mMaterialRequest Load (0.7ms)[0m   [0mSELECT * FROM `material_requests` INNER JOIN `material_requests_orders` ON `material_requests`.id = `material_requests_orders`.material_request_id WHERE (`material_requests_orders`.order_id = 22 ) [0m
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM `groups` ORDER BY name ASC[0m
  [4;35;1mGroup Load (0.1ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) [0m
  [4;36;1mPoStatus Load (0.2ms)[0m   [0;1mSELECT * FROM `po_statuses` ORDER BY po_statuses.order[0m
Rendered orders/_ordered_line_item_form_header (0.6ms)
  [4;35;1mOrderedLineItem Load (0.7ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (po_id = 22) ORDER BY line_item_no DESC LIMIT 1[0m
  [4;36;1mUnitForMeasure Load (0.1ms)[0m   [0;1mSELECT * FROM `unit_for_measures` ORDER BY name[0m
Rendered orders/_ordered_line_item_form (17.6ms)
Rendered orders/_ordered_line_item_form_header (0.1ms)
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(ordered_line_items.id) AS count_ordered_line_items_id FROM `ordered_line_items` WHERE (po_id = 22) [0m
  [4;36;1mOrderedLineItem Load (0.5ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (po_id = 22) ORDER BY line_item_no asc LIMIT 0, 2[0m
  [4;35;1mRequestedLineItem Load (0.2ms)[0m   [0mSELECT * FROM `requested_line_items` WHERE (`requested_line_items`.`id` = 58) [0m
  [4;36;1mMaterialRequest Load (0.4ms)[0m   [0;1mSELECT * FROM `material_requests` WHERE (`material_requests`.`id` = 37) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `requested_line_items` WHERE (`requested_line_items`.`id` = 58) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `material_requests` WHERE (`material_requests`.`id` = 37) [0m
Rendered shared/_roles (3.6ms)
Rendered shared/_navigation (1.3ms)
  [4;35;1mPoStatus Load (0.5ms)[0m   [0mSELECT * FROM `po_statuses` WHERE (`po_statuses`.`status` = 'Partially Received') LIMIT 1[0m
  [4;36;1mPoStatus Load (0.4ms)[0m   [0;1mSELECT * FROM `po_statuses` WHERE (`po_statuses`.`status` = 'Fully Received') LIMIT 1[0m
  [4;35;1mReminder Load (0.5ms)[0m   [0mSELECT * FROM `reminders` WHERE (`reminders`.po_id = 22) [0m
Rendered orders/_actions (16.8ms)
Rendered orders/_search (0.4ms)
Completed in 265ms (View: 132, DB: 9) | 200 OK [http://localhost/orders/22/edit]


Processing CartsController#recent (for 127.0.0.1 at 2013-01-16 17:26:41) [GET]
  Parameters: {"status"=>"all"}
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mSCHEMA (0.9ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(DISTINCT carts.id) AS count_carts_id FROM `carts` LEFT OUTER JOIN `employees` ON `employees`.id = `carts`.requested_by_id LEFT OUTER JOIN `units` ON `units`.id = `carts`.unit_id WHERE ((1 = 1) AND (state != 0)) [0m
Rendering template within layouts/application
Rendering carts/recent
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `carts` [0m
  [4;35;1mCart Load (0.1ms)[0m   [0mSELECT distinct(unit_id) FROM `carts` [0m
  [4;36;1mCart Load (0.1ms)[0m   [0;1mSELECT distinct(requested_by_id) FROM `carts` [0m
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT id, first_name, last_name, mi FROM `employees` WHERE (`employees`.`id` IN (1,7,12,11,15)) ORDER BY last_name[0m
  [4;36;1mCart Load (0.1ms)[0m   [0;1mSELECT * FROM `carts` WHERE ((1 = 1) AND (state != 0)) ORDER BY carts.id DESC LIMIT 0, 0[0m
Rendered shared/_paginate (0.1ms)
Rendered shared/_roles (3.0ms)
Rendered shared/_navigation (1.7ms)
Rendered carts/_actions (1.5ms)
Rendered carts/_search (0.4ms)
Completed in 132ms (View: 21, DB: 3) | 200 OK [http://localhost/carts/recent?status=all]


Processing HomeController#menu (for 127.0.0.1 at 2013-01-16 17:26:46) [GET]
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/menu
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
Rendered material_requests/_search (0.4ms)
Rendered carts/_search (5.0ms)
Rendered orders/_search (0.6ms)
Rendered inventory_items/_search (0.4ms)
Rendered general_references/_search (0.4ms)
Rendered units/_search (0.3ms)
Rendered vendors/_search (0.4ms)
Rendered vendor_groups/_search (0.4ms)
Rendered companies/_search (0.3ms)
Rendered employees/_search (0.4ms)
Rendered quotes/_search (0.3ms)
Rendered shared/_roles (2.9ms)
Rendered shared/_navigation (1.6ms)
Completed in 121ms (View: 94, DB: 3) | 200 OK [http://localhost/home/menu]
  [4;36;1mSCHEMA (1.9ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.7ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.3ms)[0m   [0mSHOW TABLES [0m


Processing ApplicationController#index (for 127.0.0.1 at 2013-01-16 17:26:56) [GET]
  [4;36;1mSCHEMA (1.3ms)[0m   [0;1mSHOW TABLES [0m

NoMethodError (undefined method `define_index' for #<Class:0xb59720c4>):
  app/models/company.rb:29
  app/controllers/reports_controller.rb:6
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;35;1mSCHEMA (1.1ms)[0m   [0mSHOW TABLES [0m
Rendered rescues/_trace (108.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing OrdersController#index (for 127.0.0.1 at 2013-01-16 17:27:05) [GET]
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(DISTINCT purchase_orders.id) AS count_purchase_orders_id FROM `purchase_orders` LEFT OUTER JOIN `vendors` ON `vendors`.id = `purchase_orders`.vendor_id LEFT OUTER JOIN `units` ON `units`.id = `purchase_orders`.unit_id LEFT OUTER JOIN `po_statuses` ON `po_statuses`.id = `purchase_orders`.status_id WHERE (1 = 1) [0m
Rendering template within layouts/application
Rendering orders/index
Rendered orders/_refine (0.3ms)
  [4;36;1mOrder Load (0.2ms)[0m   [0;1mSELECT distinct(turnaround_year) FROM purchase_orders ORDER BY turnaround_year;[0m
Rendered orders/_year_filter (8.4ms)
  [4;35;1mOrder Load (0.2ms)[0m   [0mSELECT vendor_id FROM `purchase_orders` WHERE (purchase_orders.vendor_id IS NOT NULL) GROUP BY vendor_id[0m
  [4;36;1mVendor Load (0.1ms)[0m   [0;1mSELECT * FROM `vendors` WHERE (`vendors`.`id` IN (3,8,9,10)) ORDER BY name[0m
Rendered orders/_supplier_filter (7.3ms)
  [4;35;1mOrder Load (0.3ms)[0m   [0mSELECT unit_id FROM `purchase_orders` WHERE (purchase_orders.unit_id IS NOT NULL) GROUP BY unit_id[0m
  [4;36;1mUnit Load (0.3ms)[0m   [0;1mSELECT * FROM `units` WHERE (`units`.`id` IN (1,2,3,5)) ORDER BY description[0m
  [4;35;1mPoStatus Load (0.4ms)[0m   [0mSELECT * FROM `po_statuses` ORDER BY po_statuses.order[0m
  [4;36;1mOrder Load (0.3ms)[0m   [0;1mSELECT distinct(location) FROM `purchase_orders` ORDER BY location[0m
  [4;35;1mOrder Load (0.4ms)[0m   [0mSELECT * FROM `purchase_orders` WHERE (1 = 1) ORDER BY purchase_orders.created DESC, purchase_orders.id desc LIMIT 0, 22[0m
  [4;36;1mVendor Load (0.2ms)[0m   [0;1mSELECT * FROM `vendors` WHERE (`vendors`.`id` IN (10,3,9,8)) [0m
  [4;35;1mUnit Load (0.1ms)[0m   [0mSELECT * FROM `units` WHERE (`units`.`id` IN (1,3,5,2)) [0m
  [4;36;1mPoStatus Load (0.3ms)[0m   [0;1mSELECT * FROM `po_statuses` WHERE (`po_statuses`.`id` IN (1,5,4)) [0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.3ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 22) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.2ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 21) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
Rendered orders/_supplier_data (0.2ms)
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.3ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 18) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.3ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 17) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.2ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 16) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.4ms)
  [4;36;1mOrderedLineItem Load (0.3ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 15) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.2ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 14) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.3ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 12) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.3ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 11) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.2ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 10) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.2ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 9) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.3ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 7) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.3ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 6) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.3ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 5) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.3ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 4) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;36;1mOrderedLineItem Load (0.2ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 3) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.2ms)
  [4;35;1mOrderedLineItem Load (0.2ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 2) ORDER BY line_item_no[0m
Rendered orders/_supplier_data (0.3ms)
Rendered orders/_purchasing (146.0ms)
Rendered shared/_paginate (0.1ms)
Rendered shared/_roles (2.2ms)
Rendered shared/_navigation (1.4ms)
  [4;36;1mGroup Load (0.3ms)[0m   [0;1mSELECT * FROM `groups` ORDER BY name ASC[0m
Rendered orders/_actions (11.2ms)
Rendered orders/_search (1.0ms)
Completed in 300ms (View: 165, DB: 10) | 200 OK [http://localhost/orders]


Processing OrdersController#edit (for 127.0.0.1 at 2013-01-16 17:27:08) [GET]
  Parameters: {"id"=>"22"}
  [4;35;1mEmployee Load (0.3ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.5ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.0ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.0ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.0ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.0ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mOrder Load (0.1ms)[0m   [0;1mSELECT * FROM `purchase_orders` WHERE (`purchase_orders`.`id` = 22) [0m
  [4;35;1mOrderedLineItem Load (0.3ms)[0m   [0mSELECT `ordered_line_items`.* FROM `ordered_line_items` WHERE (`ordered_line_items`.po_id = 22) ORDER BY line_item_no[0m
  [4;36;1mUnit Load (0.3ms)[0m   [0;1mSELECT * FROM `units` WHERE (`units`.`id` = 2) [0m
Rendering template within layouts/application
Rendering orders/edit
  [4;35;1mMaterialRequest Load (0.1ms)[0m   [0mSELECT * FROM `material_requests` INNER JOIN `material_requests_orders` ON `material_requests`.id = `material_requests_orders`.material_request_id WHERE (`material_requests_orders`.order_id = 22 ) [0m
  [4;36;1mGroup Load (0.3ms)[0m   [0;1mSELECT * FROM `groups` ORDER BY name ASC[0m
  [4;35;1mGroup Load (0.3ms)[0m   [0mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) [0m
  [4;36;1mPoStatus Load (0.2ms)[0m   [0;1mSELECT * FROM `po_statuses` ORDER BY po_statuses.order[0m
Rendered orders/_ordered_line_item_form_header (0.1ms)
  [4;35;1mOrderedLineItem Load (0.2ms)[0m   [0mSELECT * FROM `ordered_line_items` WHERE (po_id = 22) ORDER BY line_item_no DESC LIMIT 1[0m
  [4;36;1mUnitForMeasure Load (0.3ms)[0m   [0;1mSELECT * FROM `unit_for_measures` ORDER BY name[0m
Rendered orders/_ordered_line_item_form (14.3ms)
Rendered orders/_ordered_line_item_form_header (0.1ms)
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(ordered_line_items.id) AS count_ordered_line_items_id FROM `ordered_line_items` WHERE (po_id = 22) [0m
  [4;36;1mOrderedLineItem Load (0.1ms)[0m   [0;1mSELECT * FROM `ordered_line_items` WHERE (po_id = 22) ORDER BY line_item_no asc LIMIT 0, 2[0m
  [4;35;1mRequestedLineItem Load (0.1ms)[0m   [0mSELECT * FROM `requested_line_items` WHERE (`requested_line_items`.`id` = 58) [0m
  [4;36;1mMaterialRequest Load (0.1ms)[0m   [0;1mSELECT * FROM `material_requests` WHERE (`material_requests`.`id` = 37) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `requested_line_items` WHERE (`requested_line_items`.`id` = 58) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `material_requests` WHERE (`material_requests`.`id` = 37) [0m
Rendered shared/_roles (2.2ms)
Rendered shared/_navigation (1.3ms)
  [4;35;1mPoStatus Load (0.2ms)[0m   [0mSELECT * FROM `po_statuses` WHERE (`po_statuses`.`status` = 'Partially Received') LIMIT 1[0m
  [4;36;1mPoStatus Load (0.1ms)[0m   [0;1mSELECT * FROM `po_statuses` WHERE (`po_statuses`.`status` = 'Fully Received') LIMIT 1[0m
  [4;35;1mReminder Load (0.1ms)[0m   [0mSELECT * FROM `reminders` WHERE (`reminders`.po_id = 22) [0m
Rendered orders/_actions (7.0ms)
Rendered orders/_search (0.4ms)
Completed in 216ms (View: 142, DB: 6) | 200 OK [http://localhost/orders/22/edit]


Processing HomeController#changelog (for 127.0.0.1 at 2013-01-16 17:27:34) [GET]
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Rendering template within layouts/application
Rendering home/changelog
Rendered shared/_roles (7.5ms)
  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.3ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.2ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.2ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
Rendered shared/_navigation (21.0ms)
Completed in 60ms (View: 35, DB: 3) | 200 OK [http://localhost/changelog]


Processing PopvController#index (for 127.0.0.1 at 2013-01-16 17:28:15) [GET]
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mPipingReference Load (0.5ms)[0m   [0;1mSELECT * FROM `piping_references` WHERE (`piping_references`.`show_public_link` = 1) ORDER BY description ASC[0m
Rendering template within layouts/application
Rendering popv/index
Rendered shared/_roles (4.1ms)
Rendered shared/_navigation (1.4ms)
Rendered popv/_actions (0.4ms)
Rendered popv/_search (0.4ms)
Completed in 67ms (View: 28, DB: 4) | 200 OK [http://localhost/popv]


Processing PipingController#classes_only (for 127.0.0.1 at 2013-01-16 17:28:15) [GET]
  Parameters: {"all"=>"true"}
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.3ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mPipingClass Load (0.3ms)[0m   [0mSELECT * FROM `piping_classes` WHERE (archived = 0) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `piping_classes` [0m
Completed in 78ms (View: 2, DB: 1) | 200 OK [http://localhost/piping/classes_only]


Processing BulkChangesController#tables (for 127.0.0.1 at 2013-01-16 17:28:15) [POST]
  Parameters: {"method"=>"POST"}
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
Completed in 24ms (View: 1, DB: 0) | 200 OK [http://localhost/bulk_changes/tables]


Processing PipingController#index (for 127.0.0.1 at 2013-01-16 17:28:16) [GET]
  Parameters: {"limit"=>"40", "all_index"=>"true", "sort"=>"class_code", "filter2"=>"", "dir"=>"ASC"}
  [4;35;1mEmployee Load (0.3ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mPipingClass Load (0.6ms)[0m   [0mSELECT * FROM `piping_classes` WHERE ((piping_classes.archived = 0 OR piping_classes.archived IS NULL)) ORDER BY piping_classes.class_code ASC[0m
  [4;36;1mUserNote Load (0.6ms)[0m   [0;1mSELECT `user_notes`.* FROM `user_notes` WHERE (`user_notes`.`table_id` = 1 and `user_notes`.`table_type` = 'PipingClass') [0m
  [4;35;1mPipingReferenceAttaching Load (0.5ms)[0m   [0mSELECT `piping_reference_attachings`.* FROM `piping_reference_attachings` WHERE (`piping_reference_attachings`.`attachable_id` = 1 and `piping_reference_attachings`.`attachable_type` = 'PipingClass') [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(DISTINCT `piping_class_details`.id) AS count_all FROM `piping_class_details` LEFT OUTER JOIN `valves` ON `valves`.id = `piping_class_details`.valve_id WHERE (piping_class_id = 1 AND valves.id IS NOT NULL) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(DISTINCT `piping_classes`.id) AS count_all FROM `piping_classes` LEFT OUTER JOIN `user_notes` ON `user_notes`.table_id = `piping_classes`.id AND `user_notes`.table_type = 'PipingClass' LEFT OUTER JOIN `piping_reference_attachings` ON (`piping_classes`.`id` = `piping_reference_attachings`.`attachable_id` AND `piping_reference_attachings`.`attachable_type` = 'PipingClass') LEFT OUTER JOIN `piping_references` ON (`piping_references`.`id` = `piping_reference_attachings`.`piping_reference_id`) WHERE ((piping_classes.archived = 0 OR piping_classes.archived IS NULL)) [0m
Completed in 130ms (View: 1, DB: 3) | 200 OK [http://localhost/piping]


Processing PipingComponentsController#index (for 127.0.0.1 at 2013-01-16 17:28:16) [GET]
  Parameters: {"all"=>"true", "sort"=>"piping_components.piping_component", "dir"=>"ASC"}
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mPipingComponent Load (0.9ms)[0m   [0;1mSELECT * FROM `piping_components` ORDER BY piping_components.piping_component ASC[0m
  [4;35;1mPipingComponent Load (0.2ms)[0m   [0mSELECT * FROM `piping_components` WHERE (`piping_components`.parent_id = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `piping_components` WHERE (`piping_components`.parent_id = 1) [0m
  [4;35;1mUserNote Load (0.2ms)[0m   [0mSELECT * FROM `user_notes` WHERE (`user_notes`.table_id = 1 AND `user_notes`.table_type = 'PipingComponent') [0m
  [4;36;1mPipingComponent Load (0.2ms)[0m   [0;1mSELECT * FROM `piping_components` WHERE (`piping_components`.parent_id = 2) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `piping_components` WHERE (`piping_components`.parent_id = 2) [0m
  [4;36;1mUserNote Load (0.3ms)[0m   [0;1mSELECT * FROM `user_notes` WHERE (`user_notes`.table_id = 2 AND `user_notes`.table_type = 'PipingComponent') [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(DISTINCT `piping_components`.id) AS count_all FROM `piping_components` LEFT OUTER JOIN `user_notes` ON `user_notes`.table_id = `piping_components`.id AND `user_notes`.table_type = 'PipingComponent' LEFT OUTER JOIN `piping_components` subcomponents_piping_components ON subcomponents_piping_components.parent_id = piping_components.id [0m
Completed in 109ms (View: 1, DB: 4) | 200 OK [http://localhost/piping_components/]


Processing PipingNotesController#index (for 127.0.0.1 at 2013-01-16 17:28:16) [GET]
  Parameters: {"all"=>"true", "sort"=>"piping_notes.note_number", "dir"=>"ASC"}
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mPipingNote Load (0.3ms)[0m   [0;1mSELECT * FROM `piping_notes` ORDER BY piping_notes.note_number ASC[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(DISTINCT `piping_notes`.id) AS count_all FROM `piping_notes` LEFT OUTER JOIN `user_notes` ON `user_notes`.table_id = `piping_notes`.id AND `user_notes`.table_type = 'PipingNote'[0m
Completed in 32ms (View: 1, DB: 1) | 200 OK [http://localhost/piping_notes/]


Processing PipingController#piping_sizes (for 127.0.0.1 at 2013-01-16 17:28:16) [GET]
  Parameters: {"all"=>"true"}
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mPipingSize Load (0.2ms)[0m   [0;1mSELECT * FROM `piping_sizes` ORDER BY piping_size ASC[0m
Completed in 26ms (View: 1, DB: 1) | 200 OK [http://localhost/piping/piping_sizes]


Processing SextController#store (for 127.0.0.1 at 2013-01-16 17:28:16) [GET]
  Parameters: {"resource"=>"valves", "limit"=>"200", "all"=>"true", "sort"=>"valves.valve_code", "dir"=>"ASC"}
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mValve Load (0.3ms)[0m   [0mSELECT * FROM `valves` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `valves` [0m
Completed in 30ms (View: 1, DB: 1) | 200 OK [http://localhost/sext/valves/store]


Processing ValveComponentsController#index (for 127.0.0.1 at 2013-01-16 17:28:16) [GET]
  Parameters: {"all"=>"true", "sort"=>"valve_components.order_numbering", "dir"=>"ASC"}
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mValveComponent Load (0.3ms)[0m   [0mSELECT * FROM `valve_components` ORDER BY valve_components.order_numbering ASC[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(DISTINCT `valve_components`.id) AS count_all FROM `valve_components` LEFT OUTER JOIN `user_notes` ON `user_notes`.table_id = `valve_components`.id AND `user_notes`.table_type = 'ValveComponent'[0m
Completed in 36ms (View: 1, DB: 1) | 200 OK [http://localhost/valve_components/]


Processing PipingController#units_for_measure (for 127.0.0.1 at 2013-01-16 17:28:17) [GET]
  Parameters: {"all"=>"true", "sort"=>"name", "dir"=>"ASC"}
  [4;35;1mEmployee Load (0.6ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mUnitForMeasure Load (0.4ms)[0m   [0mSELECT * FROM `unit_for_measures` ORDER BY name ASC[0m
Completed in 106ms (View: 2, DB: 1) | 200 OK [http://localhost/piping/units_for_measure/]


Processing PipingReferencesController#index (for 127.0.0.1 at 2013-01-16 17:28:17) [GET]
  Parameters: {"all"=>"true", "sort"=>"description", "dir"=>"ASC"}
  [4;36;1mEmployee Load (0.4ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mPipingReference Load (0.3ms)[0m   [0;1mSELECT * FROM `piping_references` ORDER BY piping_references.description ASC[0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(DISTINCT `piping_references`.id) AS count_all FROM `piping_references` LEFT OUTER JOIN `piping_reference_attachings` ON piping_reference_attachings.piping_reference_id = piping_references.id [0m
Completed in 29ms (View: 1, DB: 2) | 200 OK [http://localhost/piping_references/]


Processing ManufacturersController#index (for 127.0.0.1 at 2013-01-16 17:28:17) [GET]
  Parameters: {"all"=>"true", "sort"=>"name", "dir"=>"ASC"}
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mManufacturer Load (0.3ms)[0m   [0;1mSELECT * FROM `manufacturers` ORDER BY manufacturers.name ASC[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(DISTINCT `manufacturers`.id) AS count_all FROM `manufacturers` LEFT OUTER JOIN `user_notes` ON `user_notes`.table_id = `manufacturers`.id AND `user_notes`.table_type = 'Manufacturer' LEFT OUTER JOIN `manufacturers_valves` ON (`manufacturers`.`id` = `manufacturers_valves`.`manufacturer_id`) LEFT OUTER JOIN `valves` ON (`valves`.`id` = `manufacturers_valves`.`valve_id`) [0m
Completed in 114ms (View: 1, DB: 1) | 200 OK [http://localhost/manufacturers/]


Processing ReferenceNumberTypesController#index to json (for 127.0.0.1 at 2013-01-16 17:28:17) [GET]
  Parameters: {"all"=>"true", "sort"=>"name", "dir"=>"ASC"}
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mReferenceNumberType Load (0.6ms)[0m   [0;1mSELECT * FROM `reference_number_types` ORDER BY order_number ASC[0m
Completed in 38ms (View: 4, DB: 1) | 200 OK [http://localhost/reference_number_types.json]


Processing PipingController#classes_only_incl_archived (for 127.0.0.1 at 2013-01-16 17:28:17) [GET]
  Parameters: {"all"=>"true"}
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.3ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mPipingClass Load (2.0ms)[0m   [0mSELECT * FROM `piping_classes` [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `piping_classes` [0m
Completed in 37ms (View: 1, DB: 3) | 200 OK [http://localhost/piping/classes_only_incl_archived]


Processing UnitsSextController#index (for 127.0.0.1 at 2013-01-16 17:28:17) [GET]
  Parameters: {"all"=>"true", "_dc"=>"1358337496336"}
  [4;35;1mEmployee Load (0.3ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.3ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mUnit Load (0.6ms)[0m   [0mSELECT id, delta, description, unit_no, lock_version, updated_at, created_at, unit_no, if(unit_no is null,'Z000',RIGHT(CONCAT('Z000', trim(unit_no)),4)) as ordered_number, IF(unit_no = '' OR unit_no IS NULL, description,CONCAT(IF(IF(unit_no IS NULL,'Z000',RIGHT(CONCAT('Z000', TRIM(unit_no)),4))='Z000','',IF(unit_no is null,'Z000',RIGHT(CONCAT('Z000', TRIM(unit_no)),4))),' : ', description)) as full_description FROM `units` ORDER BY ordered_number ASC, description ASC[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `units` [0m
Completed in 106ms (View: 1, DB: 3) | 200 OK [http://localhost/units_sext?_dc=1358337496336&_method=GET&all=true]


Processing PipingNotesController#index (for 127.0.0.1 at 2013-01-16 17:28:49) [GET]
  Parameters: {"limit"=>"40", "all_index"=>"true", "sort"=>"note_number", "filter2"=>"", "dir"=>"ASC"}
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mPipingNote Load (0.1ms)[0m   [0mSELECT * FROM `piping_notes` ORDER BY piping_notes.note_number ASC[0m
  [4;36;1mUserNote Load (0.3ms)[0m   [0;1mSELECT `user_notes`.* FROM `user_notes` WHERE (`user_notes`.`table_id` IN (1,2) and `user_notes`.`table_type` = 'PipingNote') [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(DISTINCT `piping_notes`.id) AS count_all FROM `piping_notes` LEFT OUTER JOIN `user_notes` ON `user_notes`.table_id = `piping_notes`.id AND `user_notes`.table_type = 'PipingNote'[0m
Completed in 29ms (View: 1, DB: 1) | 200 OK [http://localhost/piping_notes]


Processing ValvesController#index (for 127.0.0.1 at 2013-01-16 17:29:19) [GET]
  Parameters: {"limit"=>"100", "sort"=>"valve_code", "filter2"=>"", "dir"=>"ASC", "url"=>""}
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mValve Load (0.2ms)[0m   [0;1mSELECT * FROM `valves` ORDER BY valves.valve_code ASC LIMIT 0, 100[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(DISTINCT `valves`.id) AS count_all FROM `valves` LEFT OUTER JOIN `valves_valve_components` ON (`valves`.`id` = `valves_valve_components`.`valve_id`) LEFT OUTER JOIN `valve_components` ON (`valve_components`.`id` = `valves_valve_components`.`valve_component_id`) [0m
Completed in 46ms (View: 1, DB: 1) | 200 OK [http://localhost/valves]


Processing SextController#store (for 127.0.0.1 at 2013-01-16 17:29:20) [GET]
  Parameters: {"resource"=>"valves", "limit"=>"200", "all"=>"true", "sort"=>"valves.valve_code", "dir"=>"ASC"}
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mValve Load (0.1ms)[0m   [0;1mSELECT * FROM `valves` [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `valves` [0m
Completed in 98ms (View: 2, DB: 1) | 200 OK [http://localhost/sext/valves/store]


Processing MaterialRequestsController#index (for 127.0.0.1 at 2013-01-16 17:29:53) [GET]
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mSCHEMA (0.8ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(DISTINCT material_requests.id) AS count_material_requests_id FROM `material_requests` LEFT OUTER JOIN `employees` ON `employees`.id = `material_requests`.requested_by_id LEFT OUTER JOIN `units` ON `units`.id = `material_requests`.unit_id LEFT OUTER JOIN `requested_line_items` ON requested_line_items.material_request_id = material_requests.id WHERE (((1 = 1) AND (material_requests.deleted = 0)) AND (1 = 1)) [0m
Rendering template within layouts/application
Rendering material_requests/index
  [4;36;1mMaterialRequest Load (0.2ms)[0m   [0;1mSELECT distinct(unit_id) FROM `material_requests` [0m
  [4;35;1mUnit Load (0.1ms)[0m   [0mSELECT * FROM `units` WHERE (`units`.`id` IN (3,2,5,4,1)) ORDER BY description[0m
  [4;36;1mMaterialRequest Load (0.1ms)[0m   [0;1mSELECT distinct(requested_by_id) FROM `material_requests` [0m
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT id, first_name, last_name, mi FROM `employees` WHERE (`employees`.`id` IN (1,2,7,8,11,15,10,17,13)) ORDER BY last_name[0m
  [4;36;1mMaterialRequest Load (0.2ms)[0m   [0;1mSELECT * FROM `material_requests` WHERE (((1 = 1) AND (material_requests.deleted = 0)) AND (1 = 1)) ORDER BY material_requests.id DESC LIMIT 0, 41[0m
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` IN (10,15,11,17,13,8,7,2,1)) [0m
  [4;36;1mUnit Load (0.1ms)[0m   [0;1mSELECT * FROM `units` WHERE (`units`.`id` IN (3,2,4,1,5)) [0m
  [4;35;1mRequestedLineItem Load (0.2ms)[0m   [0mSELECT `requested_line_items`.* FROM `requested_line_items` WHERE (`requested_line_items`.material_request_id IN (42,41,40,39,37,36,35,34,33,32,31,30,29,28,27,26,25,24,23,22,21,20,19,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1)) ORDER BY requested_line_items.item_no[0m
Rendered shared/_paginate (0.1ms)
Rendered shared/_roles (2.3ms)
Rendered shared/_navigation (1.4ms)
  [4;36;1mGroup Load (0.2ms)[0m   [0;1mSELECT * FROM `groups` ORDER BY name ASC[0m
Rendered material_requests/_actions (8.9ms)
Rendered material_requests/_search (0.5ms)
Completed in 184ms (View: 65, DB: 4) | 200 OK [http://localhost/material_requests]


Processing MaterialRequestsController#edit (for 127.0.0.1 at 2013-01-16 17:29:56) [GET]
  Parameters: {"id"=>"42"}
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.1ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'carts') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'events') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'general_references') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'groups') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'inventory_items') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'live') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'material_requests') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'orders') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'popv') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'quotes') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reference_numbers') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'reports') LIMIT 1[0m
  [4;36;1mResourcePermission Load (0.1ms)[0m   [0;1mSELECT * FROM `resource_permissions` WHERE (`resource_permissions`.`name` = 'hide_pricing') LIMIT 1[0m
  [4;35;1mResourcePermission Load (0.1ms)[0m   [0mSELECT * FROM `resource_permissions` [0m
  [4;36;1mMaterialRequest Load (0.6ms)[0m   [0;1mSELECT * FROM `material_requests` WHERE (`material_requests`.`id` = '42') LIMIT 1[0m
  [4;35;1mReferenceNumberType Load (0.1ms)[0m   [0mSELECT * FROM `reference_number_types` ORDER BY order_number ASC[0m
Rendering template within layouts/application
Rendering material_requests/edit
  [4;36;1mBill Load (0.6ms)[0m   [0;1mSELECT * FROM `bills` WHERE (`bills`.material_request_id = 42) LIMIT 1[0m
  [4;35;1mUnit Load (0.2ms)[0m   [0mSELECT * FROM `units` ORDER BY description ASC[0m
  [4;36;1mUnit Load (0.4ms)[0m   [0;1mSELECT * FROM `units` WHERE (`units`.`id` = 5) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `material_request_attachments` WHERE (`material_request_attachments`.material_request_id = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mEmployee Load (0.2ms)[0m   [0mSELECT * FROM `employees` ORDER BY last_name[0m
  [4;36;1mEmployee Load (0.6ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 13) [0m
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (role = 12 OR role = 0 OR role = 2) ORDER BY last_name[0m
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (role = 3) ORDER BY last_name[0m
  [4;35;1mGroup Load (0.1ms)[0m   [0mSELECT * FROM `groups` ORDER BY name ASC[0m
  [4;36;1mGroup Load (0.1ms)[0m   [0;1mSELECT * FROM `groups` WHERE (`groups`.`id` = 1) [0m
  [4;35;1mEmployee Load (0.1ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 42) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `quotes` WHERE (`quotes`.material_request_id = 42) [0m
  [4;35;1mQuote Load (0.5ms)[0m   [0mSELECT * FROM `quotes` WHERE (`quotes`.material_request_id = 42) [0m
  [4;36;1mVendor Load (0.4ms)[0m   [0;1mSELECT * FROM `vendors` WHERE (`vendors`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `quote_items` WHERE (`quote_items`.quote_id = 50) [0m
  [4;36;1mQuoteItem Load (0.5ms)[0m   [0;1mSELECT * FROM `quote_items` WHERE (`quote_items`.quote_id = 50) [0m
  [4;35;1mVendor Load (0.5ms)[0m   [0mSELECT * FROM `vendors` WHERE (`vendors`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `quote_items` WHERE (`quote_items`.quote_id = 51) [0m
  [4;35;1mQuoteItem Load (0.5ms)[0m   [0mSELECT * FROM `quote_items` WHERE (`quote_items`.quote_id = 51) [0m
  [4;36;1mVendor Load (0.1ms)[0m   [0;1mSELECT * FROM `vendors` WHERE (`vendors`.`id` = 9) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `quote_items` WHERE (`quote_items`.quote_id = 52) [0m
  [4;36;1mQuoteItem Load (0.5ms)[0m   [0;1mSELECT * FROM `quote_items` WHERE (`quote_items`.quote_id = 52) [0m
  [4;35;1mOrder Load (0.3ms)[0m   [0mSELECT * FROM `purchase_orders` INNER JOIN `material_requests_orders` ON `purchase_orders`.id = `material_requests_orders`.order_id WHERE (`material_requests_orders`.material_request_id = 42 ) [0m
Rendered material_requests/_links_to_orders (11.2ms)
  [4;36;1mRequestedLineItem Load (0.7ms)[0m   [0;1mSELECT * FROM `requested_line_items` WHERE (`requested_line_items`.material_request_id = 42) ORDER BY requested_line_items.item_no[0m
  [4;35;1mUnitForMeasure Load (0.2ms)[0m   [0mSELECT * FROM `unit_for_measures` ORDER BY name[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ordered_line_items` WHERE (`ordered_line_items`.requested_line_item_id = 63) [0m
Rendered material_requests/_line_item (21.7ms)
  [4;35;1mPipingClass Load (0.2ms)[0m   [0mSELECT * FROM `piping_classes` ORDER BY class_code[0m
Rendered material_requests/_pipe_materials (14.4ms)
Rendered shared/_roles (2.1ms)
Rendered shared/_navigation (1.3ms)
Rendered material_requests/_actions (2.3ms)
Rendered material_requests/_search (0.4ms)
Completed in 364ms (View: 215, DB: 13) | 200 OK [http://localhost/material_requests/42/edit]


Processing PipingController#piping_class (for 127.0.0.1 at 2013-01-16 17:30:11) [POST]
  Parameters: {"id"=>"1"}
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.1ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mPipingClass Load (0.5ms)[0m   [0;1mSELECT * FROM `piping_classes` WHERE (`piping_classes`.`id` = 1) [0m
  [4;35;1mPipingComponent Load (0.8ms)[0m   [0mSELECT DISTINCT `piping_components`.* FROM `piping_components` INNER JOIN `piping_class_details` ON `piping_components`.id = `piping_class_details`.piping_component_id WHERE ((`piping_class_details`.piping_class_id = 1)) ORDER BY piping_component, piping_component[0m
Rendering piping/piping_class
Completed in 42ms (View: 6, DB: 2) | 200 OK [http://localhost/piping/piping_class/]


Processing PipingController#piping_component (for 127.0.0.1 at 2013-01-16 17:30:17) [POST]
  Parameters: {"id"=>"1", "piping_class_id"=>"1"}
  [4;36;1mEmployee Load (0.4ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mPipingComponent Load (0.5ms)[0m   [0;1mSELECT * FROM `piping_components` WHERE (`piping_components`.`id` = 1) [0m
  [4;35;1mPipingClassDetail Load (0.6ms)[0m   [0mSELECT * FROM `piping_class_details` WHERE (`piping_class_details`.piping_component_id = 1 AND (`piping_class_details`.`piping_class_id` = '1')) [0m
Rendering piping/piping_component
  [4;36;1mPipingSize Load (0.4ms)[0m   [0;1mSELECT * FROM `piping_sizes` [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `piping_sizes` [0m
Completed in 56ms (View: 11, DB: 3) | 200 OK [http://localhost/piping/piping_component/]


Processing PipingController#piping_class_detail (for 127.0.0.1 at 2013-01-16 17:30:20) [POST]
  Parameters: {"id"=>"1"}
  [4;36;1mEmployee Load (0.1ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mPipingClassDetail Load (0.5ms)[0m   [0;1mSELECT * FROM `piping_class_details` WHERE (`piping_class_details`.`id` = 1) [0m
Rendering piping/piping_class_detail
  [4;35;1mPipingNote Load (0.5ms)[0m   [0mSELECT * FROM `piping_notes` INNER JOIN `piping_notes_piping_class_details` ON `piping_notes`.id = `piping_notes_piping_class_details`.piping_note_id WHERE (`piping_notes_piping_class_details`.piping_class_detail_id = 1 ) [0m
Rendered piping/_notes_and_valve (5.6ms)
Completed in 48ms (View: 12, DB: 1) | 200 OK [http://localhost/piping/piping_class_detail/]


Processing EmployeesController#update (for 127.0.0.1 at 2013-01-16 17:31:50) [PUT]
  Parameters: {"employee"=>{"role"=>"11", "popv_enabled"=>"1"}, "id"=>"1"}
  [4;36;1mEmployee Load (0.3ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mAdmin::Message Load (0.2ms)[0m   [0mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;36;1mEmployee Load (0.2ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;35;1mEmployee Load (0.7ms)[0m   [0mSELECT `employees`.id FROM `employees` WHERE (LOWER(`employees`.`login`) = BINARY 'admin' AND `employees`.id <> 1) LIMIT 1[0m
  [4;36;1mEmployee Update with optimistic locking (0.5ms)[0m   [0;1m UPDATE `employees`
 SET `updated_at` = '2013-01-16 17:31:50', `lock_version` = 35, `popv_enabled` = 1, `role` = 11
 WHERE id = 1
 AND `lock_version` = 34
[0m
  [4;35;1mLogEdit Create (0.3ms)[0m   [0mINSERT INTO `log_edits` (`updated_at`, `loggable_id`, `loggable_type`) VALUES('2013-01-16 17:31:50', 1, 'Employee')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3000/employees
Completed in 167ms (DB: 3) | 302 Found [http://localhost/employees/1]


Processing EmployeesController#index (for 127.0.0.1 at 2013-01-16 17:31:50) [GET]
  [4;35;1mEmployee Load (0.6ms)[0m   [0mSELECT * FROM `employees` WHERE (`employees`.`id` = 1) LIMIT 1[0m
  [4;36;1mAdmin::Message Load (0.2ms)[0m   [0;1mSELECT * FROM `admin_messages` ORDER BY updated_at DESC LIMIT 1[0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.2ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.4ms)[0m   [0mSHOW TABLES [0m
  [4;36;1mSCHEMA (1.2ms)[0m   [0;1mSHOW TABLES [0m
  [4;35;1mSCHEMA (1.2ms)[0m   [0mSHOW TABLES [0m

NoMethodError (undefined method `define_index' for #<Class:0xb5cce268>):
  app/models/company.rb:29
  lib/listable.rb:102:in `list'
  app/controllers/employees_controller.rb:8:in `send'
  app/controllers/employees_controller.rb:8:in `index'
  app/models/employee.rb:388:in `filter'
  app/models/employee.rb:387:in `filter'
  app/controllers/employees_controller.rb:7:in `index'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /usr/local/rvm/rubies/ruby-1.8.7-p371/lib/ruby/1.8/webrick/server.rb:82:in `start'

  [4;36;1mSCHEMA (1.4ms)[0m   [0;1mSHOW TABLES [0m
Rendered rescues/_trace (48.5ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)
